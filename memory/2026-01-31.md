# 2026-01-31

## Home Assistant integration
- Added a workspace skill `skills/homeassistant/` with a small Python helper (`ha.py`) to call HA REST endpoints.
- HA connectivity configured via OpenClaw config env injection (`skills.entries.homeassistant.env.HA_URL/HA_TOKEN`).
- Note: HA token was shared via chat; recommended to revoke and re-issue.

## Shopping list automation
- Canonical shopping list: `/Users/mk/clawd/shopping-list.md`.
- Requirement: every Saturday morning at 10:00 (Europe/Berlin), ensure items exist even if deleted during the week:
  - "червона риба солона"
  - "авокадо"
- Implemented via macOS LaunchAgent (launchd), not HA:
  - Script: `/Users/mk/clawd/scripts/shopping_list_weekly_staples.py`
  - LaunchAgent label: `ai.openclaw.shopping-list-weekly-staples`
  - Logs: `/tmp/openclaw-shopping-list-weekly-staples.out.log` + `.err.log`

## LaunchAgents repo-first migration (restore-friendly)
- Adopted the default approach for automations:
  - Scripts live in the repo: `/Users/mk/clawd/scripts/`
  - LaunchAgent plists live in the repo: `/Users/mk/clawd/launchagents/`
  - System install is via symlink into `~/Library/LaunchAgents/`
  - Secrets live outside git in `~/.openclaw/secrets/secrets.env` (chmod 600)
  - Prefer iCloud Keychain as source-of-truth for credentials; regenerate `secrets.env` if needed.
  - Reinstall via `bash /Users/mk/clawd/launchagents/install.sh`
- LaunchAgents covered by this repo-first setup:
  - ai.openclaw.gateway
  - ai.openclaw.shopping-list-weekly-staples
  - com.mk.gmail-drafter
  - com.mk.gog.gmail-personal-serve
  - com.mk.gog.gmail-personal-renew
  - com.mk.gog.gmail-work-serve
  - com.mk.gog.gmail-work-renew
  - com.mk.n8n
